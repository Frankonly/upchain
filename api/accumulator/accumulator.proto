syntax = "proto3";

option go_package = "upchain/api/accumulator";

package accumulator;

// The accumulator service definition
service Accumulator{
  // Append a new hash
  rpc Append (Hash) returns (ID) {}
  rpc Get (ID) returns (Hash) {}
  rpc GetProofByID (ID) returns (GetProofReply) {}
}

message ID {
  uint64 id = 1;
}

message Hash {
  bytes hash = 1;

}

message GetProofReply {
  bytes target_hash = 1;
  bytes digest = 2;
  repeated bytes path = 3;
}